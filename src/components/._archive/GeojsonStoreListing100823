if (variant === 'stores') { 
    carousel.className += ' ' + 'listingStore-item';

    // Generate the store status based on popularTimes
    function generateStoreStatus() {
        const currentHour = new Date().getHours();
        const currentDay = new Date().getDay();
        let statusHTML = '';

        if (currentDay < popularTimes[0].length - 1) {
            const currentValue = parseInt(popularTimes[currentHour + 1][currentDay + 1]);
            if (currentValue >= 0 && currentValue <= 5) {
                statusHTML = '<div class="status not-busy">NOT BUSY</div>';
            } else if (currentValue > 5 && currentValue <= 10) {
                statusHTML = '<div class="status moderately-busy">MODERATELY BUSY</div>';
            } else if (currentValue > 10 && currentValue <= 12) {
                statusHTML = '<div class="status busy">BUSY</div>';
            } else {
                statusHTML = '<div class="status packed">PACKED</div>';
            }
        }

        return statusHTML;
    }

    // Generate store status HTML
    const storeStatusHTML = generateStoreStatus();

    const storeContentData = {
        thumbnail: thumbnail,
        logo: logo,
        title: title,
        galleryHTML: galleryHTML,
        headline: headline,
        publishedAt: publishedAt,
        storeType: storeType,
        environment: environment,
        noiseLevel: noiseLevel,
        parking: parking, 
        title: text,  // Note: 'title' appears twice in your object. Ensure this is intentional.
        neustar: neustar,
        neustarHTML: neustarHTML,
        categoryType: categoryType,
        region: region,
        bestHTML: bestHTML,
        genre: genre,
        best: originalBest,
        storeCurrentStatus: storeStatusHTML  // Added the store status here
    };

    const storeContent = createStoreCard.render(storeContentData);
    const storeCarouselItem = generateCarouselItem(storeContent);
    cardContainer.appendChild(storeCarouselItem);
    carousel.appendChild(cardContainer);
}

return carousel;
